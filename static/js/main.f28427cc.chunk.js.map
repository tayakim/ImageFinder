{"version":3,"sources":["components/imageGalleryItem/imageGalleryItem.module.css","components/modal/modal.module.css","components/imageGallery/imageGallery.module.css","components/app.module.css","components/searchbar/Searchbar.jsx","components/imageGalleryItem/ImageGalleryItem.jsx","components/imageGallery/ImageGallery.jsx","components/loader/Loader.jsx","components/button/Button.jsx","components/modal/Modal.jsx","services/API.js","components/imageFinder/ImageFinder.jsx","components/App.js","index.js","components/searchbar/searchbar.module.css"],"names":["module","exports","Searchbar","state","search","onHandleChange","e","setState","target","value","onHandleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","name","Component","ImageGalleryItem","image","openModal","webformatURL","tags","id","onClick","src","alt","ImageGalleryItem_image","ImageGallery","images","console","log","map","Loader","Button","fetchImages","modal_root","document","querySelector","Modal","backdrop","createRef","handleKeyPress","code","onClose","onHandleBackdropClick","current","addEventListener","removeEventListener","children","createPortal","Overlay","ref","role","fetchImagesAPI","query","a","page","URL","axios","get","then","response","data","hits","ImagineFinder","pageNumber","error","isLoading","isModalOpen","largeImageId","largeImage","onSearch","fetchMoreImages","catch","finally","findImg","find","Number","currentTarget","closeModal","prevProps","prevState","window","scrollTo","top","documentElement","scrollHeight","behavior","length","largeImgId","largeImageURL","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f28427cc.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__1iOFe\",\"ImageGalleryItem-image\":\"imageGalleryItem_ImageGalleryItem-image__T-dNk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__XcFJa\",\"Modal\":\"modal_Modal__2e0oM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__3wvAU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"app_App__11Hr6\"};","import React, { Component } from \"react\";\r\nimport styles from \"../searchbar/searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    search: \"\",\r\n  };\r\n\r\n  onHandleChange = (e) => {\r\n    this.setState({ search: e.target.value });\r\n  };\r\n\r\n  onHandleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.search);\r\n    this.setState({ search: \"\" });\r\n  };\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.onHandleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchForm_button}>\r\n            <span className={styles.SearchForm_button_label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchForm_input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.onHandleChange}\r\n            name=\"search\"\r\n            value={this.state.search}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport styles from \"../imageGalleryItem/imageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ image, openModal }) => {\r\n  const { webformatURL, tags } = image;\r\n\r\n  return (\r\n    <li className={styles.ImageGalleryItem} id={image.id} onClick={openModal}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={styles.ImageGalleryItem_image}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport styles from \"../imageGallery/imageGallery.module.css\";\r\nimport ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ images, openModal }) => {\r\n  console.log(images);\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map((image) => (\r\n        <ImageGalleryItem openModal={openModal} key={image.id} image={image} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\n\r\nconst Loader = () => {\r\n  return <div>Loading</div>;\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport styles from \"../button/button.modul.css\";\r\n\r\nconst Button = ({ fetchImages }) => {\r\n  return (\r\n    <button type=\"button\" onClick={fetchImages} className={styles.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component, createRef } from \"react\";\r\nimport styles from \"../modal/modal.module.css\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modal_root = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  backdrop = createRef();\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = (e) => {\r\n    console.log(e);\r\n    if (e.code !== \"Escape\") {\r\n      return;\r\n    }\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  onHandleBackdropClick = (e) => {\r\n    if (this.backdrop.current && e.target !== this.backdrop.current) {\r\n      return;\r\n    }\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return createPortal(\r\n      <div\r\n        className={styles.Overlay}\r\n        ref={this.backdrop}\r\n        onClick={this.props.onClose}\r\n        role=\"presentation\"\r\n      >\r\n        <div className={styles.Modal}>\r\n          <img src=\"\" alt=\"\" />\r\n          {children}\r\n        </div>\r\n      </div>,\r\n      modal_root\r\n    );\r\n  }\r\n}\r\n","import axios from 'axios';\r\n\r\nconst fetchImagesAPI = async(query, page = 1) => {\r\n    const apiKey = `19539916-67a6db161f09ee9bfd5c70184`;\r\n    let URL = `https://pixabay.com/api/?key=${apiKey}&image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12`;\r\n    return await axios.get(URL)\r\n\r\n    .then((response) => response.data.hits);\r\n\r\n}\r\nexport default fetchImagesAPI;","import React, { Component } from \"react\";\r\nimport Searchbar from \"../searchbar/Searchbar\";\r\nimport ImageGallery from \"../imageGallery/ImageGallery\";\r\n// import ImageGalleryItem from \"../imageGalleryItem/ImageGalleryItem\";\r\nimport Loader from \"../loader/Loader\";\r\nimport Button from \"../button/Button\";\r\nimport Modal from \"../modal/Modal\";\r\nimport fetchImagesAPI from \"../../services/API\";\r\n\r\n//pixabay.com/api/?q=что_искать&page=номер_страницы&key=19539916 - 67a6db161f09ee9bfd5c70184&image_type=photo&orientation=horizontal&per_page=12\r\n\r\nexport default class ImagineFinder extends Component {\r\n  state = {\r\n    images: [],\r\n    pageNumber: 1,\r\n    search: \"\",\r\n    error: \"\",\r\n    isLoading: false,\r\n    isModalOpen: false,\r\n    largeImageId: null,\r\n    largeImage: [],\r\n  };\r\n\r\n  componentDidMount() {}\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.search !== this.state.search) {\r\n      this.fetchImages(false);\r\n    }\r\n    if (prevState.search === this.state.search) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }\r\n\r\n  onSearch = (search) => {\r\n    this.setState({\r\n      search,\r\n      images: [],\r\n      pageNumber: 1,\r\n    });\r\n  };\r\n\r\n  fetchMoreImages = () => {\r\n    this.fetchImages(true);\r\n  };\r\n\r\n  fetchImages = () => {\r\n    this.setState({ isLoading: true });\r\n    const { search, pageNumber } = this.state;\r\n    fetchImagesAPI(search, pageNumber)\r\n      .then((images) => {\r\n        this.setState((state) => ({\r\n          images: [...state.images, ...images],\r\n          pageNumber: state.pageNumber + 1,\r\n        }));\r\n        return images[0];\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ error });\r\n      })\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n      });\r\n  };\r\n\r\n  findImg = () => {\r\n    const largeImg = this.state.images.find((image) => {\r\n      return image.id === this.state.largeImageId;\r\n    });\r\n    return largeImg;\r\n  };\r\n\r\n  openModal = (e) => {\r\n    this.setState({\r\n      isModalOpen: true,\r\n      largeImageId: Number(e.currentTarget.id),\r\n    });\r\n  };\r\n  closeModal = () => {\r\n    this.setState({ isModalOpen: false });\r\n  };\r\n\r\n  render() {\r\n    const { isLoading, images, isModalOpen, largeImageId } = this.state;\r\n    return (\r\n      <div>\r\n        <Searchbar onSubmit={this.onSearch} />\r\n        <ImageGallery openModal={this.openModal} images={images} />\r\n        {isLoading && <Loader />}\r\n        {images.length > 0 && <Button fetchImages={this.fetchMoreImages} />}\r\n        {/* <ImageGalleryItem /> */}\r\n\r\n        {isModalOpen && (\r\n          <Modal largeImgId={largeImageId} onClose={this.closeModal}>\r\n            <img src={this.findImg().largeImageURL} alt={this.findImg().tags} />{\" \"}\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ImageFinder from \"./imageFinder/ImageFinder\";\nimport styles from \"../components/app.module.css\";\n\n\nconst App = () => {\n    return <ImageFinder className = { styles.App }\n    / > ;\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\n\nReactDOM.render( < App / > , document.getElementById('root'));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__1kzAk\",\"SearchForm\":\"searchbar_SearchForm__3QbcQ\",\"SearchForm-button\":\"searchbar_SearchForm-button__3Kea1\",\"SearchForm-button-label\":\"searchbar_SearchForm-button-label__2OjKP\",\"SearchForm-input\":\"searchbar_SearchForm-input__20mRi\"};"],"sourceRoot":""}